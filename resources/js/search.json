[[{"i":"aspnet-core-reimagined-with-htmx-book","l":"ASP.NET Core Reimagined with htmx Book","p":["Have questions or feedback about the book? My email is cwoodruff@live.com.","For the source code for the book, visit the book's GitHub repo -- htmx-razor-workshop","To find translations, please check out the Translations page."]}],[{"l":"Dedication"}],[{"l":"Epigraph"}],[{"l":"Acknowledgments","p":["This is a basic page, with only a title and some text content."]}],[{"l":"Forward","p":["This is a basic page, with only a title and some text content."]}],[{"l":"Preface","p":["This is a basic page, with only a title and some text content."]}],[{"l":"Translations","p":["Language","Author","Notes","URL","Chinese","Spanish","French","Japanese","Swedish"]}],[{"l":"1"},{"i":"why-htmx-with-aspnet-core-9-razor-pages","l":"Why htmx with ASP.NET Core 9 Razor Pages?","p":["Web development has evolved significantly over the past decade, shifting from server-rendered applications to JavaScript-heavy frontends that rely on client-side frameworks like React, Angular, and Vue. However, these solutions often introduce excessive complexity, forcing developers to juggle state management, bundlers, and frontend dependencies.","With the rise of htmx, many developers are rediscovering the power of server-side rendering while maintaining dynamic interactivity. htmx enhances HTML, allowing it to handle interactions that traditionally require JavaScript, offering a more straightforward way to create fast, interactive, and maintainable web applications. Unlike frontend-heavy frameworks, which offload rendering and logic to the client, htmx enables a seamless experience by keeping the logic on the server and sending only the necessary updates to the client. This means developers can build highly interactive applications without the overhead of managing complex client-side code.","If you're an ASP.NET Core developer working with Razor Pages, htmx presents an efficient alternative to client-side frameworks. It enables dynamic updates with minimal JavaScript, and integrating it into your ASP.NET Core 9 Razor Pages applications is a straightforward process. This book will guide you through from basic concepts to advanced interactivity, ensuring that by the end, you'll be comfortable building fully interactive, server-driven applications that remain performant and scalable without relying on a heavy frontend framework."]},{"l":"The Power of Simplicity in Web Development","p":["One of the biggest challenges modern developers face is managing complexity. Single-page applications (SPAs) have gained popularity due to their ability to provide smooth, interactive user experiences. However, these applications often come at a cost—higher development complexity, performance bottlenecks, and increased maintenance burdens. The need for APIs, state management, and extensive client-side JavaScript can make projects challenging to scale and debug.","htmx challenges this paradigm by offering a return to simplicity. Instead of shifting rendering responsibilities to the client, htmx keeps rendering on the server and uses lightweight AJAX requests to update specific parts of the page. This approach reduces unnecessary JavaScript, improves performance, and makes applications easier to develop and maintain."]},{"i":"what-is-htmx","l":"What is htmx?","p":["htmx is a lightweight JavaScript library that extends HTML's capabilities, allowing it to make HTTP requests and dynamically update the page without requiring JavaScript. Instead of writing JavaScript to handle AJAX interactions, developers can use htmx’s HTML attributes to perform tasks like sending HTTP requests, updating the DOM, and handling events.","For example, consider a simple interaction where a user clicks a button to load a message dynamically:","In this example, clicking the button sends an HTTP GET request to the /hello endpoint. The response from the server replaces the content inside the div id=message element, all without needing any JavaScript.","This declarative approach makes it incredibly easy to build dynamic applications while keeping HTML and server logic cleanly separated."]},{"i":"why-use-htmx-with-razor-pages","l":"Why Use htmx with Razor Pages?","p":["Razor Pages already provides a structured, server-rendered development model, but traditional implementations often require full-page reloads or custom JavaScript for interactivity. By integrating htmx, developers can enhance their applications while reducing complexity, leading to a more efficient and effective development process.","A few key advantages of htmx include:","Eliminates JavaScript complexity– No need for frontend frameworks or extensive JavaScript.","Enhances performance– Updates only necessary parts of the page instead of reloading everything.","Simplifies backend logic– Keeps interactions on the server, making debugging easier.","Leverages server-side security– Keeps application state and logic on the backend rather than the client."]},{"l":"Real-World Use Cases","p":["htmx is particularly useful in scenarios where minimal JavaScript is preferred and seamless interactions are essential."]},{"l":"Form Submissions","p":["Forms are a fundamental part of most web applications, and htmx makes handling them straightforward. Instead of requiring JavaScript to process form submissions, htmx can handle the interaction declaratively:","On the server, the Razor Page handler processes the request and returns the response:","The result is dynamically updated without reloading the entire page, leading to a more seamless user experience."]},{"l":"Dynamic Content Loading","p":["Another common use case for htmx is dynamically loading content without a full-page refresh. For instance, a user might want to open a modal form without navigating to another page. Instead of using JavaScript to load content dynamically, htmx can handle it:","When the button is clicked, htmx fetches the modal content from the server and injects it into the designated container. This makes building interactive interfaces much simpler than manually manipulating the DOM with JavaScript."]},{"l":"Performance and Scalability Benefits","p":["By reducing unnecessary JavaScript execution, htmx significantly improves performance. Since interactions are managed on the server, applications benefit from:","Faster initial load times since there’s no need for heavy JavaScript frameworks.","Improved SEO since content is server-rendered and immediately available to search engines.","More maintainable code by keeping logic in Razor Pages rather than splitting it between frontend and backend.","Moreover, htmx can alleviate the burden of complex state synchronization between frontend and backend, reducing API load by only requesting and updating what’s necessary, rather than fetching full-page responses."]},{"l":"Conclusion","p":["htmx represents a shift back to the simplicity of server-rendered applications while maintaining interactivity. When combined with ASP.NET Core 9 Razor Pages, it provides an elegant way to build applications that are efficient, scalable, and easy to maintain. This book will explore how htmx can enhance your development workflow while keeping your applications lightweight and fast.","As we move forward, we will dive deeper into setting up a robust development environment and learn how to integrate htmx seamlessly into your projects."]}],[{"l":"2"},{"l":"Setting Up Your Development Environment","p":["The goal is to help you build a solid development environment for htmx in ASP.NET Core 9. This will ensure a smooth workflow and allow you to focus on building interactive web applications without unnecessary distractions. In this chapter, we will guide you through the process of installing .NET 9, setting up an ASP.NET Core Razor Pages project, adding htmx to the project, and configuring tools for an efficient development workflow."]},{"i":"installing-aspnet-core-9-and-required-tools","l":"Installing ASP.NET Core 9 and Required Tools","p":["The first step in setting up your environment is installing .NET 9. Microsoft provides an official .NET SDK that includes everything needed to build and run ASP.NET Core applications. You can download the latest SDK from the secure and official .NET website. Once installed, open a terminal or command prompt and verify the installation by running:","If the command returns a version number starting with 9., your installation was successful. Next, let’s create a new Razor Pages project to use with htmx. Run the following commands:","This command initializes a basic Razor Pages project and starts a development server at https://localhost:5001/. Now, we are ready to integrate htmx."]},{"i":"adding-htmx-to-an-aspnet-core-9-razor-pages-project","l":"Adding htmx to an ASP.NET Core 9 Razor Pages Project","p":["To use htmx, you must include its JavaScript file in your project. The easiest way to do this is by linking to the htmx CDN inside your _Layout.cshtml file. Open Pages/Shared/_Layout.cshtml and add the following inside the head tag:","Alternatively, if you prefer to host the file locally, download htmx.min.js from the official htmx GitHub repo and place it inside the wwwroot/js/ folder. Then, update _Layout.cshtml to reference it locally:","To confirm that htmx is working correctly, create a simple button that triggers an AJAX request when clicked. Add the following to Pages/Index.cshtml:","Now, modify Pages/Index.cshtml.cs to handle the request and return a response:","Run your application and click the button. If \"Hello, htmx!\" appears in the #message div without a full page reload, congratulations! htmx is successfully integrated into your Razor Pages project."]},{"l":"Configuring a Robust Development Workflow","p":["A well-structured project is easier to maintain and allows for smooth development. Organizing Razor Pages into logical folders keeps things clean. Your project structure should look something like this:","Hot-reload is a valuable feature in ASP.NET Core that automatically applies changes without restarting the server. This is particularly useful when working with Razor Pages. To enable hot-reload, start your application using:","This command monitors file changes and refreshes the application automatically. Additionally, debugging htmx requests is straightforward using browser developer tools. Open your browser's developer console and inspect network requests to see how htmx interacts with your server.","When working with htmx, the HX-Request header helps differentiate between standard and htmx-triggered requests. You can check this in your backend code to return different responses depending on whether the request originated from htmx:","Version control is crucial for any project. To initialize a Git repository, navigate to your project directory and run:","For Razor Pages projects, a typical .gitignore file should exclude compiled binaries and user-specific files. Here's an example:"]},{"l":"Conclusion","p":["With your development environment set up to perfection, you are now fully prepared to embark on the journey of building interactive web applications with htmx and ASP.NET Core 9 Razor Pages. Having .NET installed, a Razor Pages project initialized, and htmx integrated, you are now ready to explore the world of dynamic, interactive applications. In the next chapter, we will delve into the core features of htmx and how to utilize them to create dynamic content updates in Razor Pages"]}],[{"l":"3"},{"l":"First Steps with htmx","p":["You can find the source examples for this chapter here.","The way we build web applications is evolving. While client-side JavaScript frameworks dominate modern development, they often introduce unnecessary complexity—forcing developers to juggle state management, bundlers, and intricate frontend tooling. htmx, on the other hand, plays a crucial role in simplifying this process, enhancing HTML’s native capabilities and allowing developers to craft highly interactive experiences with minimal JavaScript. This chapter will guide you through integrating htmx with ASP.NET Core Razor Pages to build seamless, dynamic web applications without the burden of complex JavaScript frameworks.","By focusing on server-driven interactions, htmx makes it possible to create fluid user experiences without requiring a full-fledged JavaScript framework. It leverages the power of declarative attributes to handle AJAX requests, event-driven interactions, and form submissions—all while keeping your markup clean and understandable. When combined with Razor Pages, htmx offers a robust way to blend server-side rendering with just the right amount of interactivity, making your applications efficient, easy to maintain, and giving you control over your projects. This efficiency and maintainability are key benefits of using htmx.","This chapter is designed to take you from the fundamental principles of htmx to implementing fully functional Razor Pages. You will learn to dynamically fetch, update, and submit content without needing a full page reload. We’ll cover everything from using hx-get and hx-post for data retrieval and submission to debugging common issues and fine-tuning request behaviors. By the end, you will be well-prepared to build interactive web applications that are both modern and maintainable."]},{"l":"Understanding the Basics of htmx in Razor Pages","p":["At its core, htmx allows you to send AJAX requests using simple HTML attributes. The two most fundamental ones are:","hx-get: Makes an HTTP GET request to fetch content from the server.","hx-post: Sends a POST request to submit data to the server.","Example:","When the button is clicked, an asynchronous GET request is made to /hello, and the response updates the #message div."]},{"l":"The Request-Response Cycle with htmx in Razor Pages","p":["Under the hood, htmx works just like a normal browser request but without a full-page reload. Here’s how a typical request-response cycle looks:","User interacts with an element (e.g., clicks a button).","htmx sends an AJAX request to the specified endpoint.","The Razor Page processes the request and returns partial HTML.","htmx updates the target element with the returned HTML.","This means you can build dynamic experiences while keeping your app’s logic centralized in your Razor Page Model (.cshtml.cs)."]},{"l":"Examining How Partial Updates Work in the Browser","p":["Unlike traditional AJAX, where you manually manipulate the DOM, htmx automatically swaps the response into a specified target. This is controlled using hx-target and hx-swap:","hx-target determines which element will be updated.","hx-swap decides how the response is inserted ( innerHTML, outerHTML, beforebegin, etc.).","By returning only the relevant snippet from the server, you make updates feel instant and efficient."]},{"l":"Creating Your First Interactive Razor Page with htmx","p":["Let’s create a simple Razor Page that dynamically loads a message when a button is clicked.","Pages/Index.cshtml","Pages/Index.cshtml.cs"]},{"l":"Using hx-get to Dynamically Load Content from Another Page","p":["In the above example, clicking the button triggers an hx-get request to OnGetMessage(), which returns a snippet of HTML. htmx then injects this snippet into the #message div."]},{"l":"Understanding hx-trigger for Event-Driven Interactions","p":["By default, htmx triggers requests on clicks, but you can customize it with hx-trigger:","Here, every keystroke (after a 500ms delay) triggers a request to update the results dynamically."]},{"l":"Implementing a Button Click That Fetches and Displays Content","p":["Let’s modify our earlier example to display different content each time the button is clicked.","Updated Index.cshtml.cs","Now, each click returns a different message from the list."]},{"l":"Handling Form Submissions with htmx"},{"l":"Using hx-post to Submit Forms Without Reloading the Page","p":["htmx makes form submissions seamless by eliminating full-page reloads."]},{"l":"Processing Form Data in the Razor Page Model","p":["Index.cshtml.cs","When the form is submitted, htmx sends the data, and the response dynamically updates #result."]},{"l":"Displaying Server Responses Dynamically with hx-target and hx-swap","p":["By default, hx-target updates a specific element, and hx-swap determines how the response is inserted. You can change the behavior like so:","This appends new responses instead of replacing them."]},{"l":"Introducing hx-validate for Basic Client-Side Validation","p":["htmx supports built-in validation with hx-validate:"]},{"l":"Debugging and Observing htmx Requests"},{"l":"Inspecting htmx Network Requests Using Browser Dev Tools","p":["You can inspect AJAX requests in the browser’s dev tools under the Network tab."]},{"l":"Common Errors and How to Debug Them","p":["Incorrect Content-Type: Ensure responses return text/html.","Server Errors: Check the console for 500 errors."]},{"i":"using-the-htmxconfigrequest-event-for-debugging","l":"Using the htmx:configRequest Event for Debugging"},{"i":"preview-of-next-chapter-understanding-htmx-commands","l":"Preview of Next Chapter: Understanding htmx Commands","p":["In the next chapter, we’ll dive deeper into htmx commands and interactions, including hx-push-url, hx-replace-url, and Hyperscript."]}],[{"l":"4"},{"l":"Understanding htmx Commands","p":["You can find the source examples for this chapter here.","Welcome to the beating heart of htmx—the commands that empower you to make it all work! In this chapter, we'll take a deep dive into the fundamental building blocks of htmx, exploring how simple HTML attributes can transform your Razor Pages into interactive, server-driven applications. Forget about wrestling with JavaScript-heavy frameworks; with htmx, your markup does the talking, fetching, swapping, and updating content dynamically with just a sprinkle of attributes.","We'll start with an overview of the htmx API, dissecting how it extends standard HTML with powerful commands like hx-get, hx-post, and hx-swap. You'll see firsthand how these attributes enable seamless interactions, handling everything from fetching data to submitting forms, all without a single line of JavaScript. By the end of this chapter, you'll understand not just what each command does but when and why to use them in an ASP.NET Core 9 Razor Pages project.","But we're not stopping at theory. You'll get hands-on experience with practical examples, tackling common scenarios like dynamic content updates, form submissions, and RESTful operations—all with concise, effective code that you can immediately apply in your projects. So gear up, because by the time you reach the last page of this chapter, you'll be wielding htmx commands like a pro, making your Razor Pages apps more interactive, responsive, and efficient than ever before."]},{"l":"Overview of the htmx API"},{"l":"The Role of htmx in Modern Web Applications","p":["Modern web applications demand dynamic interactivity, and htmx serves as a bridge between traditional server-side rendering and the need for fast, smooth updates. Historically, developers leaned on JavaScript-heavy frameworks to provide this interactivity, but this often came at the cost of complexity, maintainability, and performance. htmx offers a more efficient alternative by enabling HTML itself to handle these interactions while keeping business logic on the server where it belongs.","With htmx, an element on your page can directly request and update content from the server without requiring JavaScript event handlers or API requests structured around JSON. This makes applications lighter, easier to debug, and much more maintainable in the long run, allowing you to focus on the core functionality of your application and be more productive in your development tasks."]},{"l":"How htmx Extends HTML with Built-in Commands","p":["At the core of htmx is its ability to enrich HTML elements with hx-attributes, which instruct the browser to interact with the server in a declarative way. Instead of writing JavaScript to handle AJAX requests and manually update the DOM, htmx allows you to express these interactions directly in your markup.","For instance, consider the following example:","Here, the hx-get attribute ensures that when the button is clicked, a GET request is sent to /api/message. The server's response will then be inserted into the div id= result. This approach makes it incredibly easy to build interactive applications with minimal code."]},{"l":"Key Components of the htmx API","p":["htmx provides several attributes that make dynamic interactions intuitive and expressive. Each serves a specific purpose in how elements communicate with the server and handle responses. Let's explore them in detail:"]},{"i":"hx-get-retrieving-data-from-the-server","l":"hx-get: Retrieving Data from the Server","p":["This attribute sends a GET request to the specified URL and updates the target element with the response. It's ideal for retrieving data without refreshing the page."]},{"i":"hx-post-submitting-forms-and-sending-data","l":"hx-post: Submitting Forms and Sending Data","p":["Instead of handling form submissions through JavaScript, hx-post sends form data to the server and updates the page with the returned HTML. This simplifies interactions such as comment submissions or user input processing."]},{"i":"hx-put-hx-patch-hx-delete-restful-operations","l":"hx-put, hx-patch, hx-delete: RESTful Operations","p":["For scenarios where you need to update or delete data dynamically, these attributes send appropriate HTTP requests while keeping the logic minimal and readable."]},{"i":"hx-target-where-should-the-response-go","l":"hx-target: Where Should the Response Go?","p":["By default, responses replace the element that initiated the request. However, hx-target allows developers to specify exactly where the new content should be inserted."]},{"i":"hx-swap-how-should-the-response-be-inserted","l":"hx-swap: How Should the Response Be Inserted?","p":["Different parts of an application may require responses to be inserted in different ways. The hx-swap attribute determines whether the new content replaces the target's inner content ( innerHTML), the entire element ( outerHTML), or should be inserted in a different position like beforebegin or afterend."]},{"l":"Introducing Server-Side Interactivity with Razor Pages"},{"l":"The htmx-Powered Razor Pages Workflow","p":["Traditional Razor Pages rely on full-page reloads for updates, but htmx enhances this model by enabling seamless, partial updates. The result is a workflow where user interactions trigger lightweight AJAX requests that fetch updated content from the server, reducing unnecessary data transfer and improving performance.","For example, suppose you want to update a section of your page dynamically based on a user's interaction. With htmx, this is straightforward:","And on the server:"]},{"l":"Partial Responses vs. JSON Responses","p":["A key difference between htmx and traditional client-side JavaScript frameworks is its reliance on partial HTML responses rather than JSON. When a request is made, htmx sends the request to the server, which processes it and returns a partial HTML response. This response is then inserted into the page, updating the content without the need for a full page reload. This approach allows Razor Pages to remain the central authority for rendering, reducing duplication of logic between client and server.","Partial HTML Example:","JSON Example (if needed):","If a JSON API is necessary, htmx can still handle it by processing the response and updating the UI accordingly. However, in most cases, returning small HTML fragments is more efficient and simplifies development. We will examine htmx Partials for ASP.NET in a latter chapter."]},{"l":"Preparing for Advanced htmx Usage"},{"l":"Security Considerations","p":["Because htmx enables direct server interaction, developers must ensure their applications remain secure. This includes enforcing authentication, validating input on the server, and implementing CSRF protection when processing POST requests. Razor Pages have built-in anti-forgery mechanisms that should be leveraged to safeguard sensitive operations."]},{"l":"Debugging and Performance Optimization","p":["htmx simplifies interactions, but debugging remains essential. Using browser dev tools to inspect network requests, checking logs on the server, and enabling hx-debug= true in problematic elements helps diagnose issues. Performance optimization strategies include:","Caching Responses: If frequently requested content doesn't change often, caching can significantly boost performance.","Minimizing Server Processing: Keep handlers efficient to prevent slowdowns.","Using hx-trigger Wisely: Instead of sending a request on every keystroke, introduce a delay (e.g., keyup changed delay:500ms)."]},{"i":"looking-ahead-deep-diving-into-hx-get-and-hx-post","l":"Looking Ahead: Deep Diving into hx-get and hx-post","p":["Now that we've explored htmx commands, the next step is mastering how data is fetched and submitted. The upcoming chapter will break down advanced techniques for handling form submissions, optimizing data retrieval, and structuring Razor Pages applications for maximum efficiency.","By now, you should have a strong grasp of how htmx can transform Razor Pages development. With its ability to simplify interactivity and reduce reliance on JavaScript, it's an invaluable tool for modern web applications that prioritize performance and maintainability."]}],[{"l":"Author Bio","p":["Chris Woodruff Presenting","Chris Woodruff, also known as Woody, is an Architect at Real Times Technologies and brings nearly three decades of industry expertise, having launched his career before the first .COM boom. Renowned for his contributions to software development and architecture, Woody is a regular speaker at international conferences, where he shares his deep knowledge on topics ranging from database development to APIs and web technologies.","A dedicated mentor, Woody thrives on guiding fellow developers and enhancing their skills through his talks, written work, and digital content. He co-hosts the popular “Breakpoint Show” podcast and YouTube channel, which he uses to connect with and educate the tech community. He is also writing a book covering network programming with C# and .NET.","Woody’s interests extend beyond his professional life, adding a personal touch to his character. He is a passionate bourbon enthusiast, often embarking on adventures along the Bourbon Trail in search of unique finds to savor and share with friends. Family time is a cherished part of his life, and he often shares insights from his professional journey on his blog at https://woodruff.dev. To stay updated on his latest projects and adventures, follow him on BlueSky at https://bsky.app/profile/woodruff.dev or Mastodon at https://mastodon.social/@cwoodruff, where he shares his thoughts and experiences, fostering a sense of connection with his audience."]},{"l":"Contact Info","p":["Email - chris@woodruff.dev","WhatsApp - https://wa.me/16167246885","GitHub - https://github.com/cwoodruff"]}],[{"l":"Updates and Corrections","p":["I want to thank every reader who took the time to share their feedback and corrections on my book. Your insights and meticulous attention to detail have helped enhance the work's quality and enriched the reading experience for others. It's through your engagement and thoughtful contributions that the book has evolved and improved. Thank you for your invaluable support and for being an integral part of this journey. Your feedback is genuinely appreciated.","Date","Chapter","Section","Acknowledgement","Notes","17 February 2025","2","Adding htmx to an ASP.NET Core 9 Razor Pages Project","/n/DenverBob","fixed the burron htmx to call the handler"]}]]