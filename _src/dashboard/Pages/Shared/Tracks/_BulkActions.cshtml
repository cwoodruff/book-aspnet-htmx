@model IEnumerable<Genre>

<div class="bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between">
    <div class="flex items-center gap-2">
        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span class="text-sm font-medium text-blue-900">
            <span id="selected-count">0</span> tracks selected
        </span>
    </div>
    
    <div class="flex items-center gap-4">
        <!-- Change Genre -->
        <form hx-post="/Tracks?handler=BulkUpdateGenre"
              hx-target="#track-list"
              hx-swap="outerHTML"
              hx-include="[name='selectedTracks']:checked"
              class="flex items-center gap-2">
            @Html.AntiForgeryToken()
            <select name="genreId" class="input input-sm" required>
                <option value="">Move to genre...</option>
                @foreach (var genre in Model)
                {
                    <option value="@genre.Id">@genre.Name</option>
                }
            </select>
            <button type="submit" class="btn btn-secondary btn-sm">
                Apply
            </button>
        </form>
        
        <!-- Delete Selected -->
        <button type="button"
                class="btn btn-danger btn-sm"
                hx-post="/Tracks?handler=BulkDelete"
                hx-target="#track-list"
                hx-swap="outerHTML"
                hx-include="[name='selectedTracks']:checked"
                hx-confirm="Are you sure you want to delete the selected tracks?">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
            </svg>
            Delete Selected
        </button>
        
        <!-- Clear Selection -->
        <button type="button"
                class="btn btn-ghost btn-sm"
                _="on click 
                   set checkboxes to <input[type='checkbox']/> in #track-list
                   repeat for cb in checkboxes
                     set cb.checked to false
                   end
                   add .hidden to #bulk-actions">
            Clear
        </button>
    </div>
</div>
