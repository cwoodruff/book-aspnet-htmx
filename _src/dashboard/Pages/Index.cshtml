@page
@model ChinookDashboard.Pages.IndexModel
@{
    ViewData["Title"] = "Dashboard";
}

<div class="space-y-6">
    <div class="flex justify-between items-center">
        <h1 class="text-2xl font-bold text-gray-900">Dashboard</h1>
        <button type="button" 
                class="btn btn-secondary"
                hx-get="/?handler=Stats"
                hx-target="#stats-panel"
                hx-swap="outerHTML">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
            </svg>
            Refresh
        </button>
    </div>

    <!-- Stats Panel -->
    <partial name="Dashboard/_StatsPanel" model="Model.Stats" />

    <!-- Charts and Lists -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Genre Distribution -->
        <partial name="Dashboard/_GenreChart" model="Model.GenreDistribution" />

        <!-- Recent Tracks -->
        <partial name="Dashboard/_RecentTracks" model="Model.RecentTracks" />
    </div>

    <!-- Top Artists -->
    <partial name="Dashboard/_TopArtists" model="Model.TopArtists" />
</div>
